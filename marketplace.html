<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elegante - Modern Marketplace</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2D2A26;
            --secondary: #8B7355;
            --accent: #D4A574;
            --bg-main: #FAF8F5;
            --bg-secondary: pink;
            --text-primary: #2D2A26;
            --text-secondary: #6B6561;
            --border: #E8E3DC;
            --success: #6B8E6F;
            --warning: #D4A574;
            --shadow: rgba(45, 42, 38, 0.08);
            --shadow-lg: rgba(45, 42, 38, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-main);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Typography */
        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
            font-weight: 600;
            line-height: 1.2;
        }

        h1 { font-size: clamp(2rem, 5vw, 3rem); }
        h2 { font-size: clamp(1.5rem, 4vw, 2rem); }
        h3 { font-size: clamp(1.2rem, 3vw, 1.5rem); }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        @keyframes scaleIn {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* Header */
        header {solid var(--bord
            background: var(--bg-secondary);
            border-bottom: 1px er);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        nav {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            letter-spacing: -0.5px;
        }

        .nav-icons {
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }

        .nav-btn {
            background: none;
            border: none;
            cursor: pointer;
            position: relative;
            padding: 0.5rem;
            transition: all 0.3s ease;
            color: var(--text-primary);
            font-size: 1.2rem;
        }

        .nav-btn:hover {
            color: var(--secondary);
            transform: translateY(-2px);
        }

        .badge {
            position: absolute;
            top: 0;
            right: 0;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Login Page */
        .login-page {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--bg-main) 0%, #F0EBE3 100%);
        }

        .login-card {
            background: var(--bg-secondary);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 20px 60px var(--shadow-lg);
            max-width: 400px;
            width: 100%;
            animation: scaleIn 0.5s ease;
        }

        .login-card h2 {
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .login-card p {
            text-align: center;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            font-size: 0.9rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-primary);
            font-size: 0.9rem;
        }

        input {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 1.5px solid var(--border);
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: var(--bg-main);
            font-family: 'Inter', sans-serif;
        }

        input:focus {
            outline: none;
            border-color: var(--secondary);
            background: white;
        }

        .btn {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px var(--shadow-lg);
        }

        .btn-secondary {
            background: var(--bg-main);
            color: var(--text-primary);
            border: 1.5px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--secondary);
            background: white;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-main) 100%);
            padding: 4rem 2rem;
            border-radius: 20px;
            margin-bottom: 3rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><rect width="100" height="100" fill="none"/><circle cx="50" cy="50" r="1" fill="%23D4A574" opacity="0.1"/></svg>');
            opacity: 0.3;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            margin-bottom: 1rem;
            animation: fadeIn 0.8s ease;
        }

        .hero p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto 2rem;
            animation: fadeIn 0.8s ease 0.2s both;
        }

        /* Search & Filter */
        .search-section {
            margin-bottom: 2rem;
            animation: fadeIn 0.8s ease 0.3s both;
        }

        .search-bar {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .search-input-wrapper {
            flex: 1;
            min-width: 250px;
            position: relative;
        }

        .search-input-wrapper input {
            padding-left: 3rem;
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        select {
            padding: 0.875rem 1rem;
            border: 1.5px solid var(--border);
            border-radius: 10px;
            font-size: 1rem;
            background: var(--bg-secondary);
            cursor: pointer;
            font-family: 'Inter', sans-serif;
            color: var(--text-primary);
        }

        select:focus {
            outline: none;
            border-color: var(--secondary);
        }

        /* Categories */
        .categories {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
        }

        .category-btn {
            padding: 0.75rem 1.5rem;
            border: 1.5px solid var(--border);
            background: var(--bg-secondary);
            border-radius: 50px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .category-btn:hover, .category-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        /* Products Grid */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .product-card {
            background: var(--bg-secondary);
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.4s ease;
            border: 1px solid var(--border);
            animation: fadeIn 0.6s ease both;
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px var(--shadow-lg);
        }

        .product-image {
            width: 100%;
            height: 280px;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .product-card:hover .product-image {
            transform: scale(1.05);
        }

        .product-info {
            padding: 1.5rem;
        }

        .product-category {
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .product-name {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .product-price {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 1rem;
            font-family: 'Playfair Display', serif;
        }

        .product-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn-small {
            flex: 1;
            padding: 0.625rem;
            border: none;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-add-cart {
            background: var(--primary);
            color: white;
        }

        .btn-add-cart:hover {
            background: var(--secondary);
            transform: scale(1.02);
        }

        .btn-wishlist {
            background: var(--bg-main);
            color: var(--text-primary);
            border: 1.5px solid var(--border);
            padding: 0.625rem 0.75rem;
            flex: 0 0 auto;
        }

        .btn-wishlist:hover {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        .btn-wishlist.active {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            right: -100%;
            top: 0;
            width: 100%;
            max-width: 450px;
            height: 100vh;
            background: var(--bg-secondary);
            box-shadow: -5px 0 30px var(--shadow-lg);
            z-index: 2000;
            transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
        }

        .sidebar.open {
            right: 0;
        }

        .sidebar-header {
            padding: 2rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sidebar-header h2 {
            font-size: 1.5rem;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: var(--text-secondary);
            padding: 0.5rem;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            color: var(--text-primary);
            transform: rotate(90deg);
        }

        .sidebar-content {
            flex: 1;
            overflow-y: auto;
            padding: 2rem;
        }

        .cart-item, .order-item {
            display: flex;
            gap: 1rem;
            padding: 1.5rem;
            border: 1px solid var(--border);
            border-radius: 12px;
            margin-bottom: 1rem;
            background: var(--bg-main);
            transition: all 0.3s ease;
        }

        .cart-item:hover {
            border-color: var(--secondary);
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 8px;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .cart-item-price {
            color: var(--secondary);
            font-weight: 600;
            font-size: 1.1rem;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-top: 0.5rem;
        }

        .quantity-btn {
            width: 28px;
            height: 28px;
            border: 1.5px solid var(--border);
            background: white;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .quantity-btn:hover {
            border-color: var(--secondary);
            background: var(--secondary);
            color: white;
        }

        .quantity {
            font-weight: 600;
            min-width: 30px;
            text-align: center;
        }

        .remove-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.5rem;
            transition: all 0.3s ease;
        }

        .remove-btn:hover {
            color: #c0392b;
        }

        .sidebar-footer {
            padding: 2rem;
            border-top: 1px solid var(--border);
            background: var(--bg-main);
        }

        .total-section {
            margin-bottom: 1rem;
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .total-row.grand {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            padding-top: 1rem;
            border-top: 2px solid var(--border);
        }

        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--text-secondary);
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.3;
        }

        /* Checkout */
        .checkout-section {
            max-width: 600px;
            margin: 2rem auto;
        }

        .checkout-form {
            background: var(--bg-secondary);
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            border: 1px solid var(--border);
        }

        .checkout-form h3 {
            margin-bottom: 1.5rem;
            color: var(--primary);
        }

        .order-summary {
            background: var(--bg-main);
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
        }

        /* QRIS Payment */
        .qris-container {
            text-align: center;
            padding: 2rem;
        }

        .qris-code {
            max-width: 300px;
            margin: 2rem auto;
            padding: 1.5rem;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px var(--shadow);
        }

        .qris-code img {
            width: 100%;
            height: auto;
        }

        .qris-instructions {
            margin-top: 1.5rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .payment-success {
            text-align: center;
            padding: 3rem 2rem;
        }

        .success-icon {
            width: 80px;
            height: 80px;
            background: var(--success);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            font-size: 2.5rem;
            color: white;
            animation: scaleIn 0.5s ease;
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            z-index: 1500;
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .overlay.active {
            display: block;
            opacity: 1;
        }

        /* User Menu */
        .user-menu {
            position: relative;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            background: var(--bg-main);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .user-info:hover {
            background: var(--secondary);
            color: white;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
        }

        .dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 0.5rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 0.5rem;
            min-width: 180px;
            box-shadow: 0 10px 30px var(--shadow);
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .dropdown.show {
            display: block;
        }

        .dropdown-item {
            padding: 0.75rem 1rem;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .dropdown-item:hover {
            background: var(--bg-main);
        }

        /* Order History */
        .order-item {
            display: block;
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .order-id {
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .order-date {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        .order-status {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
            background: var(--success);
            color: white;
        }

        .order-products {
            margin-bottom: 1rem;
        }

        .order-product {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .order-total {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--secondary);
            text-align: right;
        }

        /* Wishlist */
        .wishlist-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            nav {
                padding: 1rem;
            }

            .logo {
                font-size: 1.4rem;
            }

            .nav-icons {
                gap: 1rem;
            }

            .container {
                padding: 1rem;
            }

            .hero {
                padding: 2rem 1rem;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 1rem;
            }

            .product-image {
                height: 200px;
            }

            .product-info {
                padding: 1rem;
            }

            .sidebar {
                max-width: 100%;
            }

            .sidebar-content {
                padding: 1rem;
            }

            .sidebar-footer {
                padding: 1rem;
            }

            .categories {
                gap: 0.5rem;
            }

            .category-btn {
                padding: 0.5rem 1rem;
                font-size: 0.85rem;
            }

            .search-bar {
                flex-direction: column;
            }

            .login-card {
                padding: 2rem 1.5rem;
            }
        }

        /* Loading State */
        .loading {
            text-align: center;
            padding: 3rem;
            color: var(--text-secondary);
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border);
            border-top-color: var(--secondary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Hidden */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="login-page">
        <div class="login-card">
            <h2>Selamat Datang</h2>
            <p>Masuk untuk melanjutkan berbelanja</p>
            <form id="loginForm">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" placeholder="Masukkan username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Masukkan password" required>
                </div>
                <button type="submit" class="btn btn-primary">Masuk</button>
            </form>
            <p style="margin-top: 1.5rem; font-size: 0.85rem;">Demo: Gunakan username dan password apa saja</p>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="hidden">
        <!-- Header -->
        <header>
            <nav>
                <div class="logo">Elegante</div>
                <div class="nav-icons">
                    <button class="nav-btn" onclick="toggleWishlist()" title="Wishlist">
                        <span>‚ô°</span>
                        <span id="wishlistBadge" class="badge hidden">0</span>
                    </button>
                    <button class="nav-btn" onclick="toggleCart()" title="Keranjang">
                        <span>üõí</span>
                        <span id="cartBadge" class="badge hidden">0</span>
                    </button>
                    <div class="user-menu">
                        <div class="user-info" onclick="toggleUserMenu()">
                            <div class="user-avatar" id="userAvatar">U</div>
                            <span id="userName">User</span>
                        </div>
                        <div id="userDropdown" class="dropdown">
                            <div class="dropdown-item" onclick="showOrderHistory()">
                                <span>üì¶</span>
                                <span>Riwayat Pesanan</span>
                            </div>
                            <div class="dropdown-item" onclick="logout()">
                                <span>üö™</span>
                                <span>Keluar</span>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </header>

        <!-- Main Content -->
        <div id="homePage">
            <div class="container">
                <!-- Hero Section -->
                <div class="hero">
                    <div class="hero-content">
                        <h1>Temukan Gaya Anda</h1>
                        <p>Koleksi produk pilihan dengan kualitas terbaik, dipilih khusus untuk Anda</p>
                    </div>
                </div>

                <!-- Search & Filter -->
                <div class="search-section">
                    <div class="search-bar">
                        <div class="search-input-wrapper">
                            <span class="search-icon">üîç</span>
                            <input type="text" id="searchInput" placeholder="Cari produk..." onkeyup="filterProducts()">
                        </div>
                        <select id="sortSelect" onchange="sortProducts()">
                            <option value="default">Urutkan</option>
                            <option value="name-asc">Nama A-Z</option>
                            <option value="name-desc">Nama Z-A</option>
                            <option value="price-asc">Harga Terendah</option>
                            <option value="price-desc">Harga Tertinggi</option>
                        </select>
                    </div>

                    <!-- Categories -->
                    <div class="categories">
                        <button class="category-btn active" onclick="filterByCategory('all')">Semua</button>
                        <button class="category-btn" onclick="filterByCategory('fashion')">Fashion</button>
                        <button class="category-btn" onclick="filterByCategory('elektronik')">Elektronik</button>
                        <button class="category-btn" onclick="filterByCategory('home')">Home & Living</button>
                        <button class="category-btn" onclick="filterByCategory('food')">Food & Beverage</button>
                    </div>
                </div>

                <!-- Products Grid -->
                <div id="productsGrid" class="products-grid"></div>
            </div>
        </div>

        <!-- Cart Sidebar -->
        <div id="cartSidebar" class="sidebar">
            <div class="sidebar-header">
                <h2>Keranjang</h2>
                <button class="close-btn" onclick="toggleCart()">√ó</button>
            </div>
            <div class="sidebar-content" id="cartContent">
                <div class="empty-state">
                    <div class="empty-state-icon">üõí</div>
                    <p>Keranjang Anda masih kosong</p>
                </div>
            </div>
            <div class="sidebar-footer" id="cartFooter" style="display: none;">
                <div class="total-section">
                    <div class="total-row">
                        <span>Subtotal:</span>
                        <span id="subtotal">Rp 0</span>
                    </div>
                    <div class="total-row grand">
                        <span>Total:</span>
                        <span id="grandTotal">Rp 0</span>
                    </div>
                </div>
                <button class="btn btn-primary" onclick="goToCheckout()">Checkout</button>
            </div>
        </div>

        <!-- Wishlist Sidebar -->
        <div id="wishlistSidebar" class="sidebar">
            <div class="sidebar-header">
                <h2>Wishlist</h2>
                <button class="close-btn" onclick="toggleWishlist()">√ó</button>
            </div>
            <div class="sidebar-content" id="wishlistContent">
                <div class="empty-state">
                    <div class="empty-state-icon">‚ô°</div>
                    <p>Wishlist Anda masih kosong</p>
                </div>
            </div>
        </div>

        <!-- Order History Sidebar -->
        <div id="orderHistorySidebar" class="sidebar">
            <div class="sidebar-header">
                <h2>Riwayat Pesanan</h2>
                <button class="close-btn" onclick="closeOrderHistory()">√ó</button>
            </div>
            <div class="sidebar-content" id="orderHistoryContent">
                <div class="empty-state">
                    <div class="empty-state-icon">üì¶</div>
                    <p>Belum ada riwayat pesanan</p>
                </div>
            </div>
        </div>

        <!-- Checkout Page -->
        <div id="checkoutPage" class="hidden">
            <div class="container">
                <div class="checkout-section">
                    <h2 style="margin-bottom: 2rem;">Checkout</h2>
                    
                    <div class="checkout-form">
                        <h3>Informasi Pengiriman</h3>
                        <div class="form-group">
                            <label>Nama Lengkap</label>
                            <input type="text" id="checkoutName" placeholder="Nama lengkap" required>
                        </div>
                        <div class="form-group">
                            <label>Nomor Telepon</label>
                            <input type="tel" id="checkoutPhone" placeholder="08xx-xxxx-xxxx" required>
                        </div>
                        <div class="form-group">
                            <label>Alamat Lengkap</label>
                            <input type="text" id="checkoutAddress" placeholder="Jalan, No. Rumah, RT/RW" required>
                        </div>
                        <div class="form-group">
                            <label>Kota</label>
                            <input type="text" id="checkoutCity" placeholder="Kota" required>
                        </div>
                    </div>

                    <div class="checkout-form">
                        <h3>Ringkasan Pesanan</h3>
                        <div id="checkoutSummary" class="order-summary"></div>
                        <div class="total-section">
                            <div class="total-row">
                                <span>Subtotal:</span>
                                <span id="checkoutSubtotal">Rp 0</span>
                            </div>
                            <div class="total-row">
                                <span>Ongkir:</span>
                                <span>Rp 20.000</span>
                            </div>
                            <div class="total-row grand">
                                <span>Total Bayar:</span>
                                <span id="checkoutTotal">Rp 0</span>
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-primary" onclick="proceedToPayment()">Lanjut ke Pembayaran</button>
                    <button class="btn btn-secondary" onclick="backToHome()" style="margin-top: 1rem;">Kembali</button>
                </div>
            </div>
        </div>

        <!-- Payment Page -->
        <div id="paymentPage" class="hidden">
            <div class="container">
                <div class="checkout-section">
                    <h2 style="margin-bottom: 2rem;">Pembayaran QRIS</h2>
                    
                    <div class="checkout-form">
                        <div class="qris-container">
                            <p style="margin-bottom: 1rem;">Total Pembayaran:</p>
                            <h2 id="paymentAmount" style="color: var(--secondary); margin-bottom: 2rem;">Rp 0</h2>
                            
                            <div class="qris-code">
                                <img src="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=ELEGANTE-MARKETPLACE-DEMO-PAYMENT" alt="QR Code">
                            </div>

                            <div class="qris-instructions">
                                <p>1. Buka aplikasi e-wallet Anda</p>
                                <p>2. Scan QR Code di atas</p>
                                <p>3. Konfirmasi pembayaran</p>
                                <p style="margin-top: 1rem; font-weight: 600;">QR Code ini adalah demo</p>
                            </div>
                        </div>

                        <button class="btn btn-primary" onclick="completePayment()" style="margin-top: 2rem;">Saya Sudah Bayar</button>
                        <button class="btn btn-secondary" onclick="backToCheckout()" style="margin-top: 1rem;">Kembali</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Success Page -->
        <div id="successPage" class="hidden">
            <div class="container">
                <div class="checkout-section">
                    <div class="payment-success">
                        <div class="success-icon">‚úì</div>
                        <h2>Pembayaran Berhasil!</h2>
                        <p style="color: var(--text-secondary); margin: 1rem 0 2rem;">Terima kasih telah berbelanja di Elegante</p>
                        <p style="margin-bottom: 1rem;">Nomor Pesanan: <strong id="orderNumber"></strong></p>
                        <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 2rem;">Pesanan Anda akan segera diproses</p>
                        <button class="btn btn-primary" onclick="backToHomeFromSuccess()">Kembali ke Beranda</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div id="overlay" class="overlay" onclick="closeAllSidebars()"></div>

    <script>
        // Data Products
        const products = [
            // Fashion
            { id: 1, name: 'Minimal Linen Shirt', category: 'fashion', price: 350000, image: 'https://images.unsplash.com/photo-1620012253295-c15cc3e65df4?w=500' },
            { id: 2, name: 'Classic Denim Jacket', category: 'fashion', price: 550000, image: 'https://images.unsplash.com/photo-1551028719-00167b16eac5?w=500' },
            { id: 3, name: 'Elegant Dress', category: 'fashion', price: 450000, image: 'https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=500' },
            { id: 4, name: 'Premium Sneakers', category: 'fashion', price: 750000, image: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=500' },
            { id: 5, name: 'Leather Handbag', category: 'fashion', price: 850000, image: 'https://images.unsplash.com/photo-1548036328-c9fa89d128fa?w=500' },
            { id: 6, name: 'Wool Scarf', category: 'fashion', price: 180000, image: 'https://images.unsplash.com/photo-1520903920243-00d872a2d1c9?w=500' },
            
            // Elektronik
            { id: 7, name: 'Wireless Earbuds', category: 'elektronik', price: 1200000, image: 'https://m.media-amazon.com/images/I/715fNrGN+ML._AC_.jpg' },
            { id: 8, name: 'Smart Watch', category: 'elektronik', price: 2500000, image: 'https://images.unsplash.com/photo-1579586337278-3befd40fd17a?w=500' },
            { id: 9, name: 'Portable Speaker', category: 'elektronik', price: 800000, image: 'https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?w=500' },
            { id: 10, name: 'USB-C Hub', category: 'elektronik', price: 450000, image: 'https://images.unsplash.com/photo-1625948515291-69613efd103f?w=500' },
            { id: 11, name: 'Mechanical Keyboard', category: 'elektronik', price: 1500000, image: 'https://images.unsplash.com/photo-1587829741301-dc798b83add3?w=500' },
            { id: 12, name: 'Wireless Mouse', category: 'elektronik', price: 350000, image: 'https://images.unsplash.com/photo-1527864550417-7fd91fc51a46?w=500' },
            
            // Home & Living
            { id: 13, name: 'Ceramic Vase', category: 'home', price: 280000, image: 'https://images.unsplash.com/photo-1578500494198-246f612d3b3d?w=500' },
            { id: 14, name: 'Scandinavian Lamp', category: 'home', price: 650000, image: 'https://images.unsplash.com/photo-1507473885765-e6ed057f782c?w=500' },
            { id: 15, name: 'Cotton Bedding Set', category: 'home', price: 580000, image: 'https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?w=500' },
            { id: 16, name: 'Wall Art Print', category: 'home', price: 320000, image: 'https://i.pinimg.com/originals/b9/a2/d4/b9a2d4c8278bd3ac6e35387373c9949a.jpg' },
            { id: 17, name: 'Aromatherapy Diffuser', category: 'home', price: 420000, image: 'https://images.unsplash.com/photo-1608571423902-eed4a5ad8108?w=500' },
            { id: 18, name: 'Rattan Basket', category: 'home', price: 180000, image: 'https://images.unsplash.com/photo-1595428774223-ef52624120d2?w=500' },
            
            // Food & Beverage
            { id: 19, name: 'Artisan Coffee Beans', category: 'food', price: 150000, image: 'https://images.unsplash.com/photo-1559056199-641a0ac8b55e?w=500' },
            { id: 20, name: 'Premium Tea Collection', category: 'food', price: 220000, image: 'https://images.unsplash.com/photo-1564890369478-c89ca6d9cde9?w=500' },
            { id: 21, name: 'Organic Honey', category: 'food', price: 120000, image: 'https://m.media-amazon.com/images/I/81Xhn3I4IFL._SL1500_.jpg' },
            { id: 22, name: 'Dark Chocolate Bar', category: 'food', price: 85000, image: 'https://images.unsplash.com/photo-1511381939415-e44015466834?w=500' },
            { id: 23, name: 'Gourmet Olive Oil', category: 'food', price: 180000, image: 'https://images.unsplash.com/photo-1474979266404-7eaacbcd87c5?w=500' },
            { id: 24, name: 'Nuts Mix Package', category: 'food', price: 95000, image: 'https://images.unsplash.com/photo-1599599810769-bcde5a160d32?w=500' },
        ];

        // State
        let currentUser = null;
        let cart = [];
        let wishlist = [];
        let orders = [];
        let currentCategory = 'all';
        let currentSort = 'default';
        let searchQuery = '';

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showMainApp();
            }

            // Load saved data
            loadUserData();
        });

        // Login
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            // Simple demo login
            if (username && password) {
                currentUser = {
                    username: username,
                    name: username.charAt(0).toUpperCase() + username.slice(1)
                };
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                showMainApp();
            }
        });

        function showMainApp() {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            
            // Set user info
            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('userAvatar').textContent = currentUser.name.charAt(0).toUpperCase();
            
            // Display products
            displayProducts();
            updateBadges();
        }

        function logout() {
            localStorage.removeItem('currentUser');
            currentUser = null;
            cart = [];
            wishlist = [];
            location.reload();
        }

        // Display Products
        function displayProducts() {
            const grid = document.getElementById('productsGrid');
            let filteredProducts = products.filter(p => {
                const categoryMatch = currentCategory === 'all' || p.category === currentCategory;
                const searchMatch = p.name.toLowerCase().includes(searchQuery.toLowerCase());
                return categoryMatch && searchMatch;
            });

            // Sort products
            if (currentSort === 'name-asc') {
                filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
            } else if (currentSort === 'name-desc') {
                filteredProducts.sort((a, b) => b.name.localeCompare(a.name));
            } else if (currentSort === 'price-asc') {
                filteredProducts.sort((a, b) => a.price - b.price);
            } else if (currentSort === 'price-desc') {
                filteredProducts.sort((a, b) => b.price - a.price);
            }

            grid.innerHTML = filteredProducts.map((product, index) => {
                const isInWishlist = wishlist.some(item => item.id === product.id);
                return `
                    <div class="product-card" style="animation-delay: ${index * 0.05}s">
                        <img src="${product.image}" alt="${product.name}" class="product-image">
                        <div class="product-info">
                            <div class="product-category">${getCategoryName(product.category)}</div>
                            <div class="product-name">${product.name}</div>
                            <div class="product-price">${formatPrice(product.price)}</div>
                            <div class="product-actions">
                                <button class="btn-small btn-add-cart" onclick="addToCart(${product.id})">
                                    Tambah ke Keranjang
                                </button>
                                <button class="btn-small btn-wishlist ${isInWishlist ? 'active' : ''}" onclick="toggleWishlistItem(${product.id})">
                                    ${isInWishlist ? '‚ô•' : '‚ô°'}
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function getCategoryName(category) {
            const names = {
                'fashion': 'Fashion',
                'elektronik': 'Elektronik',
                'home': 'Home & Living',
                'food': 'Food & Beverage'
            };
            return names[category] || category;
        }

        function formatPrice(price) {
            return 'Rp ' + price.toLocaleString('id-ID');
        }

        // Filter & Sort
        function filterByCategory(category) {
            currentCategory = category;
            
            // Update active button
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            displayProducts();
        }

        function filterProducts() {
            searchQuery = document.getElementById('searchInput').value;
            displayProducts();
        }

        function sortProducts() {
            currentSort = document.getElementById('sortSelect').value;
            displayProducts();
        }

        // Cart Functions
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ ...product, quantity: 1 });
            }

            saveUserData();
            updateBadges();
            updateCartDisplay();
            
            // Show cart
            toggleCart();
        }

        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    saveUserData();
                    updateCartDisplay();
                    updateBadges();
                }
            }
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            saveUserData();
            updateCartDisplay();
            updateBadges();
        }

        function updateCartDisplay() {
            const cartContent = document.getElementById('cartContent');
            const cartFooter = document.getElementById('cartFooter');

            if (cart.length === 0) {
                cartContent.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üõí</div>
                        <p>Keranjang Anda masih kosong</p>
                    </div>
                `;
                cartFooter.style.display = 'none';
            } else {
                cartContent.innerHTML = cart.map(item => `
                    <div class="cart-item">
                        <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                        <div class="cart-item-info">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-price">${formatPrice(item.price)}</div>
                            <div class="quantity-controls">
                                <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
                                <span class="quantity">${item.quantity}</span>
                                <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                            </div>
                        </div>
                        <button class="remove-btn" onclick="removeFromCart(${item.id})">üóëÔ∏è</button>
                    </div>
                `).join('');

                const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                document.getElementById('subtotal').textContent = formatPrice(subtotal);
                document.getElementById('grandTotal').textContent = formatPrice(subtotal);
                cartFooter.style.display = 'block';
            }
        }

        function toggleCart() {
            const sidebar = document.getElementById('cartSidebar');
            const overlay = document.getElementById('overlay');
            
            sidebar.classList.toggle('open');
            overlay.classList.toggle('active');
            
            if (sidebar.classList.contains('open')) {
                updateCartDisplay();
            }
        }

        // Wishlist Functions
        function toggleWishlistItem(productId) {
            const product = products.find(p => p.id === productId);
            const index = wishlist.findIndex(item => item.id === productId);

            if (index > -1) {
                wishlist.splice(index, 1);
            } else {
                wishlist.push(product);
            }

            saveUserData();
            updateBadges();
            displayProducts();
            updateWishlistDisplay();
        }

        function updateWishlistDisplay() {
            const wishlistContent = document.getElementById('wishlistContent');

            if (wishlist.length === 0) {
                wishlistContent.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">‚ô°</div>
                        <p>Wishlist Anda masih kosong</p>
                    </div>
                `;
            } else {
                wishlistContent.innerHTML = `
                    <div class="wishlist-grid">
                        ${wishlist.map(item => `
                            <div class="cart-item">
                                <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                                <div class="cart-item-info">
                                    <div class="cart-item-name">${item.name}</div>
                                    <div class="cart-item-price">${formatPrice(item.price)}</div>
                                    <button class="btn-small btn-add-cart" onclick="addToCart(${item.id})" style="margin-top: 0.5rem;">
                                        Tambah ke Keranjang
                                    </button>
                                </div>
                                <button class="remove-btn" onclick="toggleWishlistItem(${item.id})">üóëÔ∏è</button>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
        }

        function toggleWishlist() {
            const sidebar = document.getElementById('wishlistSidebar');
            const overlay = document.getElementById('overlay');
            
            sidebar.classList.toggle('open');
            overlay.classList.toggle('active');
            
            if (sidebar.classList.contains('open')) {
                updateWishlistDisplay();
            }
        }

        // Checkout
        function goToCheckout() {
            if (cart.length === 0) {
                alert('Keranjang Anda kosong!');
                return;
            }

            document.getElementById('homePage').classList.add('hidden');
            document.getElementById('checkoutPage').classList.remove('hidden');
            closeAllSidebars();

            // Update checkout summary
            const summary = document.getElementById('checkoutSummary');
            summary.innerHTML = cart.map(item => `
                <div class="order-product">
                    <span>${item.name} x${item.quantity}</span>
                    <span>${formatPrice(item.price * item.quantity)}</span>
                </div>
            `).join('');

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = 20000;
            const total = subtotal + shipping;

            document.getElementById('checkoutSubtotal').textContent = formatPrice(subtotal);
            document.getElementById('checkoutTotal').textContent = formatPrice(total);
        }

        function proceedToPayment() {
            // Validate form
            const name = document.getElementById('checkoutName').value;
            const phone = document.getElementById('checkoutPhone').value;
            const address = document.getElementById('checkoutAddress').value;
            const city = document.getElementById('checkoutCity').value;

            if (!name || !phone || !address || !city) {
                alert('Mohon lengkapi semua data pengiriman!');
                return;
            }

            document.getElementById('checkoutPage').classList.add('hidden');
            document.getElementById('paymentPage').classList.remove('hidden');

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const total = subtotal + 20000;
            document.getElementById('paymentAmount').textContent = formatPrice(total);
        }

        function completePayment() {
            // Create order
            const orderId = 'ORD-' + Date.now();
            const order = {
                id: orderId,
                date: new Date().toLocaleDateString('id-ID'),
                items: [...cart],
                total: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0) + 20000,
                status: 'Berhasil'
            };

            orders.push(order);
            cart = [];
            saveUserData();
            updateBadges();

            // Show success
            document.getElementById('paymentPage').classList.add('hidden');
            document.getElementById('successPage').classList.remove('hidden');
            document.getElementById('orderNumber').textContent = orderId;
        }

        function backToHome() {
            document.getElementById('checkoutPage').classList.add('hidden');
            document.getElementById('homePage').classList.remove('hidden');
        }

        function backToCheckout() {
            document.getElementById('paymentPage').classList.add('hidden');
            document.getElementById('checkoutPage').classList.remove('hidden');
        }

        function backToHomeFromSuccess() {
            document.getElementById('successPage').classList.add('hidden');
            document.getElementById('homePage').classList.remove('hidden');
        }

        // Order History
        function showOrderHistory() {
            const sidebar = document.getElementById('orderHistorySidebar');
            const overlay = document.getElementById('overlay');
            const content = document.getElementById('orderHistoryContent');
            
            closeAllSidebars();
            
            if (orders.length === 0) {
                content.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üì¶</div>
                        <p>Belum ada riwayat pesanan</p>
                    </div>
                `;
            } else {
                content.innerHTML = orders.map(order => `
                    <div class="order-item">
                        <div class="order-header">
                            <div>
                                <div class="order-id">${order.id}</div>
                                <div class="order-date">${order.date}</div>
                            </div>
                            <span class="order-status">${order.status}</span>
                        </div>
                        <div class="order-products">
                            ${order.items.map(item => `
                                <div class="order-product">
                                    <span>${item.name} x${item.quantity}</span>
                                    <span>${formatPrice(item.price * item.quantity)}</span>
                                </div>
                            `).join('')}
                        </div>
                        <div class="order-total">Total: ${formatPrice(order.total)}</div>
                    </div>
                `).join('');
            }
            
            sidebar.classList.add('open');
            overlay.classList.add('active');
        }

        function closeOrderHistory() {
            document.getElementById('orderHistorySidebar').classList.remove('open');
            document.getElementById('overlay').classList.remove('active');
        }

        // User Menu
        function toggleUserMenu() {
            document.getElementById('userDropdown').classList.toggle('show');
        }

        // Close sidebars
        function closeAllSidebars() {
            document.getElementById('cartSidebar').classList.remove('open');
            document.getElementById('wishlistSidebar').classList.remove('open');
            document.getElementById('orderHistorySidebar').classList.remove('open');
            document.getElementById('overlay').classList.remove('active');
            document.getElementById('userDropdown').classList.remove('show');
        }

        // Update badges
        function updateBadges() {
            const cartBadge = document.getElementById('cartBadge');
            const wishlistBadge = document.getElementById('wishlistBadge');
            
            const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            
            if (cartCount > 0) {
                cartBadge.textContent = cartCount;
                cartBadge.classList.remove('hidden');
            } else {
                cartBadge.classList.add('hidden');
            }
            
            if (wishlist.length > 0) {
                wishlistBadge.textContent = wishlist.length;
                wishlistBadge.classList.remove('hidden');
            } else {
                wishlistBadge.classList.add('hidden');
            }
        }

        // Save & Load Data
        function saveUserData() {
            if (currentUser) {
                localStorage.setItem(`cart_${currentUser.username}`, JSON.stringify(cart));
                localStorage.setItem(`wishlist_${currentUser.username}`, JSON.stringify(wishlist));
                localStorage.setItem(`orders_${currentUser.username}`, JSON.stringify(orders));
            }
        }

        function loadUserData() {
            if (currentUser) {
                const savedCart = localStorage.getItem(`cart_${currentUser.username}`);
                const savedWishlist = localStorage.getItem(`wishlist_${currentUser.username}`);
                const savedOrders = localStorage.getItem(`orders_${currentUser.username}`);
                
                if (savedCart) cart = JSON.parse(savedCart);
                if (savedWishlist) wishlist = JSON.parse(savedWishlist);
                if (savedOrders) orders = JSON.parse(savedOrders);
            }
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.user-menu')) {
                document.getElementById('userDropdown').classList.remove('show');
            }
        });
    </script>
</body>
</html>